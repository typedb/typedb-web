<ng-container [ngSwitch]="cols">
  <div class="section lc-root-cols-3" *ngSwitchCase="3">
    <ng-container *ngFor="let panel of panels">
      <a
        *ngIf="$any(panel).iconURL; else panelWithoutIcon"
        class="card lc-card lc-card-cols-3 lc-icon-card"
        [class.hoverable]="!!$any(panel).button.link && !$any(panel).button.comingSoon"
        [tdLink]="$any(panel).button.comingSoon ? undefined : $any(panel).button.link"
      >
        <aside *ngIf="$any(panel).button.comingSoon" class="lp-coming-soon">coming soon</aside>
        <div><img class="lc-icon" [src]="$any(panel).iconURL" alt="" /></div>
        <div class="lc-flex-container">
          <h3 class="lc-title">{{ panel.title }}</h3>
          <td-rich-text [value]="$any(panel).body || $any(panel).description" />
          <ng-container [ngSwitch]="ctaStrength">
            <div class="hide-mobile flex"></div>
            <p *ngSwitchCase="'weak'" class="link-tertiary lc-cta-weak">{{ $any(panel).button.text }}</p>
          </ng-container>
        </div>
      </a>
      <ng-template #panelWithoutIcon>
        <a
          class="card lc-card lc-card-cols-3 lc-card-compact"
          [attr.role]="$any(panel).button?.comingSoon || !$any(panel).button?.link ? 'button' : undefined"
          [attr.aria-disabled]="$any(panel).button?.comingSoon || !$any(panel).button?.link ? true : undefined"
          [class.hoverable]="!$any(panel).button?.comingSoon"
          [tdLink]="$any(panel).link ? $any(panel).link : $any(panel).button?.comingSoon ? undefined : $any(panel).button?.link"
          (mouseenter)="setPanelHovered(panel, true)"
          (mouseleave)="setPanelHovered(panel, false)"
        >
          <aside *ngIf="$any(panel).button?.comingSoon" class="lp-coming-soon">coming soon</aside>
          <h3>{{ panel.title }}</h3>
          <td-rich-text [value]="$any(panel).body || $any(panel).description" />
          <td-button
              *ngIf="$any(panel).button"
            [button]="$any(panel).button"
            size="small"
            buttonWidth="100%"
            [noComingSoonTooltip]="true"
            [containerHovered]="isPanelHovered(panel)"
          ></td-button>
        </a>
      </ng-template>
    </ng-container>
  </div>
  <div class="section lc-root-cols-4" *ngSwitchCase="4">
    <a *ngFor="let panel of panels" [tdLink]="$any(panel).button.link" class="hoverable card lc-card lc-card-cols-4">
      <h3>{{ panel.title }}</h3>
      <td-rich-text [value]="$any(panel).body || $any(panel).description" />
      <div class="flex"></div>
      <p class="link-tertiary">{{ $any(panel).button.text }}</p>
    </a>
  </div>
</ng-container>
