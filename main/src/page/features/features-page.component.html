@if (page$ | async; as page) {
  <article>
    <td-section-core sectionId="intro" [section]="page.introSection" level="h1" bodyLevel="p2" flexDirection="row" class="td-intro zoomed" />

    <div class="section features-content-wrapper">
      <nav class="features-toc">
        <h5 class="toc-back-to-top">
          <a (click)="scrollToTop($event)">â†‘ Back to top</a>
        </h5>
        <ul class="text-aside">
          @for (item of navbarItems; track item) {
            <li>
              <a [href]="item.href" [innerHtml]="item.text" tdSmoothScroll></a>
              @if (item.children && item.children.length > 0) {
                <ul class="toc-nested">
                  @for (child of item.children; track child) {
                    <li>
                      <a [href]="child.href" [innerHtml]="child.text" tdSmoothScroll></a>
                    </li>
                  }
                </ul>
              }
            </li>
          }
        </ul>
      </nav>

      <div class="features-main-content">
        @for (section of page.featureSections; track section; let idx = $index) {
          <td-section-core [section]="section" [noSectionClass]="true" textAlign="left"/>
          @for (featureGrid of section.featureGrids; let idx = $index; track idx) {
            <td-feature-grid
              [data]="featureGrid" [illustration]="section.illustration"
              [sectionId]="section.sectionId"
              [gridId]="sanitiseGridId(section.sectionId, featureGrid.name)"
            />
          }
        }
      </div>
    </div>
      
    <td-section-core [section]="page.finalSection"/>
    <td-conclusion-panel [panel]="page.finalSection.panel"/>
  </article>
  
}
